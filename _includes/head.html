<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>{% if page.title %}{{ page.title | escape }} | {{ site.title }}{% else %}{{ site.title | escape }}{% endif %}</title>
<meta name="description" content="{{ site.description }}">

<meta itemprop="name" content="{{ site.name }}">
<meta itemprop="description" content="{% if page.description %}{{ page.description | escape }}{% else %}{{ site.description }}{% endif %}">
<meta itemprop="image" content="{% if page.image %}{{ page.image | absolute_url }}{% else %}{{ site.default_img | absolute_url }}{% endif %}">

<meta property="og:url" content="{{ page.url | absolute_url }}">
<meta property="og:type" content="website">
<meta property="og:title" content="{% if page.title %}{{ page.title | escape }} | {{ site.title }}{% else %}{{ site.title | escape }}{% endif %}">
<meta property="og:site_name" content="{{ site.title }}">
<meta property="og:description" content="{% if page.description %}{{ page.description | escape }}{% else %}{{ site.description }}{% endif %}">
<meta property="og:image" content="{% if page.image %}{{ page.image | absolute_url }}{% else %}{{ site.default_img | absolute_url }}{% endif %}">

<meta name="twitter:url" content="{{ page.url | absolute_url }}">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="{% if page.title %}{{ page.title | escape }} | {{ site.title }}{% else %}{{ site.title | escape }}{% endif %}">
<meta name="twitter:site" content="{{ site.title }}">
<meta name="twitter:description" content="{% if page.description %}{{ page.description | escape }}{% else %}{{ site.description }}{% endif %}">
{% if site.twitter_username %}
  <meta name="twitter:creator" content="@{{ site.twitter_username }}">
{% endif %}
<meta property="twitter:image" content="{% if page.image %}{{ page.image | absolute_url }}{% else %}{{ site.default_img | absolute_url }}{% endif %}">

<link rel="icon" type="image/x-icon" href="{{ 'https://static.rthr.me/images/favicon.ico' | prepend: site.baseurl }}">

<link rel="stylesheet" href="{{ '/assets/css/app.min.css' | prepend: site.baseurl }}">

<link rel="alternate" type="application/rss+xml" title="{{ site.title }}" href="{{ '/feed.xml' | prepend: site.baseurl }}">
<link rel="canonical" href="{{ page.url | replace: 'index.html', '' | prepend: site.baseurl }}">

{% if site.google_analytics %}
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', '{{ site.google_analytics }}', 'auto');
    ga('send', 'pageview');
  </script>
{% endif %}

<link rel="stylesheet" href="{{ '/assets/css/littlefoot.css' | prepend: site.baseurl }}"/>
<style>
  @media (prefers-color-scheme: dark) {
    body {
      color: #f6f6f6;
      background-color: #222222;
    }
    .header, .related {
      color: #f6f6f6;
      background-color: #363636;
    }
    a, .popup__open {
      color: #f6f6f6 !important;
    }
    .posts__img {
      background: transparent;
    }
    pre, code {
      background: #6e6e6e;
      color: #f6f6f6;
    }
    .zoom-overlay {
      background-color: #000000;
    }
    .zoom-overlay__exit:before, .zoom-overlay__exit:after {
      background-color: #f6f6f6;
    }
    .contact__container {
      color: #f6f6f6;
      background-color: #222222;
    }
    .form input, .form textarea {
      color: #f6f6f6;
      border-bottom: 2px solid #f6f6f6;
    }
    .form__btn:after, .form__btn:before {
      border: 2px solid #f6f6f6;
    }
    .littlefoot-footnote, .littlefoot-footnote__wrapper, .littlefoot-footnote__tooltip, .littlefoot-footnote__content {
      background: #363636;
      color: #f6f6f6;
    }
    .littlefoot-footnote.is-scrollable .littlefoot-footnote__wrapper::before {
      background-image: linear-gradient(to bottom, #222222 50%, #363636 100%);
    }
    .littlefoot-footnote.is-scrollable .littlefoot-footnote__wrapper::after {
      background-image: linear-gradient(to top, #222222 50%, #363636 100%);
    }
  }
  .littlefoot-footnote__host > button:before, button:after {
    border: none !important;
  }
  /**
   * The following code will make a github embedded gists responsive
   * The gist will be 100% in width width, and scroll if a line is to long
   * if you want wrapping, uncomment the wrapping section
   * Do note that indentation may be butchered tough
   */
  .gist{
    width:100%;
    & table{
  	table-layout: fixed;
    }
    & td.js-line-number{
  	// We need an explicit width for the other column to be auto
  	width: 50px;
  		text-align: center;
  	}
    // Enable wrapping and disable horizontal scrolling
    & .blob-code-inner{
  	 white-space: pre-wrap;
  	 whites-space: wrap;
  	 word-wrap:break-word;
   }
  }
 pre {
     overflow-x: scroll;
     white-space: normal;
     word-break: break-word;
  }
</style>

<script>
  const exifImageLoaded = (imageUrl) => {
    const img = document.getElementById(imageUrl);
    window.exifr.parse(img).then(exif => {
      console.log(exif);
      const exifContainer = document.getElementById(`${imageUrl}-exif`);
      const captionContainer = document.getElementById(`${imageUrl}-caption`);
      if (!!exif.LensModel && exif.LensModel.toLocaleLowerCase().includes('iphone')) {
        const cameraModelText = document.createElement('p');
        cameraModelText.style.marginBottom = '0';
        cameraModelText.innerText = `üì± ${exif.LensModel}`;
        exifContainer.appendChild(cameraModelText);
      } else {
        if (!!exif.Model) {
          const cameraModelText = document.createElement('p');
          cameraModelText.style.marginBottom = '0';
          cameraModelText.innerText = `üì∑ ${exif.Model}`;
          exifContainer.appendChild(cameraModelText);
        }
        if (!!exif.LensModel) {
          const cameraModelText = document.createElement('p');
          cameraModelText.style.marginBottom = '0';
          cameraModelText.innerHTML = `&emsp; ${exif.LensModel}`;
          exifContainer.appendChild(cameraModelText);
        }
      }
      if (!!exif.FNumber && !!exif.ExposureTime) {
        const exposureText = document.createElement('p');
        exposureText.style.marginBottom = '0';
        exposureText.innerHTML = `üïí ${exif.ExposureTime} seconds @ f/${exif.FNumber}`;
        exifContainer.appendChild(exposureText);
      }
      if (!!exif.ISO) {
        const isoText = document.createElement('p');
        isoText.style.marginBottom = '0';
        isoText.innerHTML = `üéûÔ∏è ISO ${exif.ISO}`;
        exifContainer.appendChild(isoText);
      }
      if (!!exif.DateTimeOriginal) {
        const dateText = document.createElement('p');
        dateText.style.marginBottom = '0';
        dateText.innerHTML = `üìÖ ${moment(exif.DateTimeOriginal).format('YYYY-MM-DD HH:mm')}`;
        exifContainer.appendChild(dateText);
      }
      if (!!exif.latitude && !!exif.longitude) {
        const mapLink = document.createElement('a');
        mapLink.href = `http://maps.apple.com/?ll=${exif.latitude},${exif.longitude}&z=20&q={{ include.caption }}`;
        mapLink.target = "_blank";
        const mapImg = document.createElement('img');
        mapImg.src = `https://www.mapquestapi.com/staticmap/v5/map?zoom=15&size=400,100@2x&type=hyb&center=${exif.latitude},${exif.longitude}&imagetype=JPEG&key=zofk41Z77v9DEr0EhgHaQQoyw5yWoAUh&locations=${exif.latitude},${exif.longitude}|marker-green`;
        mapLink.appendChild(mapImg);
        captionContainer.appendChild(mapLink);
      }
    });
  };
</script>
